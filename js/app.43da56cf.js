(function(t){function e(e){for(var n,c,i=e[0],s=e[1],u=e[2],d=0,p=[];d<i.length;d++)c=i[d],Object.prototype.hasOwnProperty.call(o,c)&&o[c]&&p.push(o[c][0]),o[c]=0;for(n in s)Object.prototype.hasOwnProperty.call(s,n)&&(t[n]=s[n]);l&&l(e);while(p.length)p.shift()();return a.push.apply(a,u||[]),r()}function r(){for(var t,e=0;e<a.length;e++){for(var r=a[e],n=!0,i=1;i<r.length;i++){var s=r[i];0!==o[s]&&(n=!1)}n&&(a.splice(e--,1),t=c(c.s=r[0]))}return t}var n={},o={app:0},a=[];function c(e){if(n[e])return n[e].exports;var r=n[e]={i:e,l:!1,exports:{}};return t[e].call(r.exports,r,r.exports,c),r.l=!0,r.exports}c.m=t,c.c=n,c.d=function(t,e,r){c.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:r})},c.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},c.t=function(t,e){if(1&e&&(t=c(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var r=Object.create(null);if(c.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var n in t)c.d(r,n,function(e){return t[e]}.bind(null,n));return r},c.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return c.d(e,"a",e),e},c.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},c.p="/standing-echo/";var i=window["webpackJsonp"]=window["webpackJsonp"]||[],s=i.push.bind(i);i.push=e,i=i.slice();for(var u=0;u<i.length;u++)e(i[u]);var l=s;a.push([0,"chunk-vendors"]),r()})({0:function(t,e,r){t.exports=r("cd49")},"0613":function(t,e,r){"use strict";(function(t){var n,o=r("2b0e"),a=r("2f62"),c=r("1b17");async function i(t){const e=document.createElement("audio"),r=new Promise(t=>{e.addEventListener("loadedmetadata",()=>{e.duration===1/0?(e.currentTime=Number.MAX_SAFE_INTEGER,e.ontimeupdate=()=>{e.ontimeupdate=null,t(e.duration),e.currentTime=0}):t(e.duration)})});return e.src=t,r}o["a"].use(a["a"]),e["a"]=new a["a"].Store({strict:"production"!==(null===(n=null===t||void 0===t?void 0:Object({NODE_ENV:"production",BASE_URL:"/standing-echo/"}))||void 0===n?void 0:n.NODE_ENV),state:{trackIndex:0,tracks:Array()},getters:{currentTrack(t){return t.tracks[t.trackIndex]},trackIndex(t){return t.trackIndex},tracks(t){return t.tracks.slice(0)}},actions:{async addTrack({commit:t},e){const r=URL.createObjectURL(e),n=new c["a"]({blobUrl:r,duration:await i(r),mimeType:e.type,title:"{UNTITLED}"});t("addTrack",n)}},mutations:{addTrack(t,e){t.tracks.push(e)},setTrackIndex(t,e){if(e<0||e>t.tracks.length)throw new TypeError("Index out of bounds");t.trackIndex=e},clearTracks(t){t.tracks.forEach(t=>URL.revokeObjectURL(t.blobUrl)),t.tracks=[]}},plugins:[]})}).call(this,r("4362"))},"07d8":function(t,e,r){},"1b17":function(t,e,r){"use strict";function n(t){const e=new Date(1e3*t).toISOString();return e.substr(11,8).split(":")}r.d(e,"a",(function(){return o}));class o{constructor(t){Object.assign(this,t)}get durationString(){const[t,e,r]=n(this.duration||0);return"00"==t?`${e}:${r}`:`${t}:${e}:${r}`}}},"280c":function(t,e,r){},"2e09":function(t,e,r){"use strict";var n=r("f702"),o=r.n(n);o.a},"2ec6":function(t,e,r){t.exports=r.p+"img/feather-sprite.8bf209bf.svg"},"378e":function(t,e,r){"use strict";var n=r("6195"),o=r.n(n);o.a},"549d":function(t,e,r){"use strict";var n=r("74a5"),o=r.n(n);o.a},"5d88":function(t,e,r){"use strict";var n=r("d178"),o=r.n(n);o.a},6195:function(t,e,r){},"74a5":function(t,e,r){},"7b59":function(t,e,r){"use strict";var n=r("280c"),o=r.n(n);o.a},"7dad":function(t,e,r){},9993:function(t,e,r){"use strict";var n=r("7dad"),o=r.n(n);o.a},bacb:function(t,e,r){"use strict";var n=r("07d8"),o=r.n(n);o.a},cd49:function(t,e,r){"use strict";r.r(e);var n=r("2b0e"),o=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("main",{attrs:{id:"app"}},[r("player"),r("playlist")],1)},a=[],c=r("9ab4"),i=r("60a3"),s=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"player"},[r("audio",{attrs:{src:t.currentTrack&&t.currentTrack.blobUrl||""},on:{loadedmetadata:t.loadedMetadata,timeupdate:t.timeUpdate}}),r("input",{attrs:{type:"file",id:"browse",accept:"audio/*",multiple:""},on:{change:t.browse}}),r("seekbar",{attrs:{currentTime:t.currentTime,duration:t.currentTrack&&t.currentTrack.duration||0},on:{"seek-click":t.seekClick}}),r("fieldset",{staticClass:"controls"},[r("player-button",{attrs:{icon:"skip-back",disabled:t.trackIndex<=0,title:"Previous"},on:{click:t.skipBack}}),r("player-button",{attrs:{icon:"play",disabled:!t.currentTrack,hidden:!t.isPaused,title:"Play"},on:{click:t.play}}),r("player-button",{attrs:{icon:"pause",disabled:!t.currentTrack,hidden:t.isPaused,title:"Pause"},on:{click:t.pause}}),r("player-button",{attrs:{icon:"skip-forward",disabled:!t.currentTrack||t.trackIndex>=t.tracks.length-1,title:"Next"},on:{click:t.skipForward}}),r("player-button",{attrs:{icon:"folder",title:"Open file(s)"},on:{click:t.open}})],1),r("volume",{attrs:{loudness:t.volume,muted:t.isMuted},on:{"volume-change":t.volumeChange,"max-vol":t.maxVolume,"mute-vol":t.muteVolume}})],1)},u=[],l=r("2f62"),d=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("button",{staticClass:"player-button",attrs:{type:"button"},on:{click:function(e){return t.$emit("click")}}},[r("feather-icon",{staticClass:"skip-back",attrs:{icon:t.icon}})],1)},p=[],m=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("svg",{staticClass:"feather-icon"},[n("use",{attrs:{"xlink:href":r("2ec6")+"#"+t.icon}})])},b=[];let f=class extends i["c"]{};Object(c["a"])([Object(i["b"])()],f.prototype,"icon",void 0),f=Object(c["a"])([i["a"]],f);var h=f,v=h,k=(r("bacb"),r("2877")),g=Object(k["a"])(v,m,b,!1,null,"97655ed0",null),y=g.exports;let O=class extends i["c"]{};Object(c["a"])([Object(i["b"])()],O.prototype,"icon",void 0),O=Object(c["a"])([Object(i["a"])({components:{FeatherIcon:y}})],O);var j=O,_=j,T=(r("549d"),Object(k["a"])(_,d,p,!1,null,"2b4d83b3",null)),x=T.exports,$=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("section",{staticClass:"seekbar"},[r("time",{attrs:{datetime:t.currentTimeFormatString}},[t._v(t._s(t.currentTimeString))]),r("progress",{attrs:{max:t.duration},domProps:{value:t.currentTime},on:{click:t.seekClick}}),r("time",{attrs:{datetime:t.durationFormatString}},[t._v(t._s(t.durationString))])])},w=[];function S(t){const e=new Date(1e3*t).toISOString();return e.substr(11,8).split(":")}let P=class extends i["c"]{get currentTimeString(){const[t,e,r]=S(this.currentTime);return"00"==t?`${e}:${r}`:`${t}:${e}:${r}`}get currentTimeFormatString(){const[t,e,r]=S(this.currentTime);return`PT${t}H${e}M${r}S`}get durationString(){const[t,e,r]=S(this.duration);return"00"==t?`${e}:${r}`:`${t}:${e}:${r}`}get durationFormatString(){const[t,e,r]=S(this.duration);return`PT${t}H${e}M${r}S`}seekClick(t){const e=t.target,r=(t.pageX-e.offsetLeft)/e.offsetWidth,n=r*this.duration;this.$emit("seek-click",n)}};Object(c["a"])([Object(i["b"])()],P.prototype,"currentTime",void 0),Object(c["a"])([Object(i["b"])()],P.prototype,"duration",void 0),P=Object(c["a"])([i["a"]],P);var E=P,A=E,I=(r("5d88"),Object(k["a"])(A,$,w,!1,null,"1d8ccec4",null)),C=I.exports,M=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("article",{staticClass:"volume"},[r("player-button",{attrs:{icon:t.muteIcon,title:"Mute"},on:{click:function(e){return t.$emit("mute-vol")}}}),r("progress",{attrs:{max:"1"},domProps:{value:t.loudness},on:{click:t.volumeChange}}),r("player-button",{attrs:{icon:"volume-2",title:"Max"},on:{click:function(e){return t.$emit("max-vol")}}})],1)},U=[];let F=class extends i["c"]{get muteIcon(){return this.muted?"volume-x":"volume-1"}mounted(){this.elProgress=this.$el.querySelector("progress")}volumeChange(t){const e=t.target,r=(t.pageX-e.offsetLeft)/e.offsetWidth;this.$emit("volume-change",r)}};Object(c["a"])([Object(i["b"])()],F.prototype,"loudness",void 0),Object(c["a"])([Object(i["b"])()],F.prototype,"muted",void 0),F=Object(c["a"])([Object(i["a"])({components:{PlayerButton:x}})],F);var N=F,L=N,B=(r("7b59"),Object(k["a"])(L,M,U,!1,null,"7297604d",null)),V=B.exports;let R=class extends i["c"]{constructor(){super(...arguments),this.currentTime=0,this.isMuted=!1,this.volume=0,this.isPaused=!0}pause(){this.isPaused=!0,this.elAudio&&this.elAudio.pause()}async browse(t){const e=t.target,r=Array.from(e.files||[]);r.length&&(this.pause(),this.currentTime=0,this.$store.commit("clearTracks"),await Promise.all([...r].map(t=>this.$store.dispatch("addTrack",t))),this.$store.commit("setTrackIndex",0),this.play())}loadedMetadata(){this.volume=this.elAudio.volume}maxVolume(){this.volume=this.elAudio.volume=1}muteVolume(){this.isMuted=this.elAudio.muted=!this.elAudio.muted}mounted(){this.elAudio=this.$el.querySelector("audio"),this.elBrowse=this.$el.querySelector("#browse")}play(){this.isPaused=!1,this.elAudio.play()}seekClick(t){this.currentTrack&&(this.elAudio.currentTime=t)}skipBack(){console.log("skipBack")}skipForward(){console.log("skipForward")}timeUpdate(){this.currentTime=this.elAudio.currentTime}volumeChange(t){this.volume=this.elAudio.volume=t}open(){this.elBrowse.click()}};R=Object(c["a"])([Object(i["a"])({components:{PlayerButton:x,Volume:V,Seekbar:C},computed:Object(l["b"])(["currentTrack","trackIndex","tracks"])})],R);var D=R,q=D,X=(r("2e09"),Object(k["a"])(q,s,u,!1,null,"f865e5a4",null)),H=X.exports,J=function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("table",{staticClass:"playlist"},[t._m(0),0==t.tracks.length?r("tbody",[t._m(1)]):t._e(),t.tracks.length?r("tbody",t._l(t.tracks,(function(e){return r("tr",{key:e.blobUrl},[r("td",[t._v(t._s(e.title))]),r("td",[t._v(t._s(e.durationString))]),r("td",[t._v(t._s(e.mimeType))])])})),0):t._e()])},W=[function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("thead",[r("th",[t._v("Title")]),r("th",[t._v("Length")]),r("th",[t._v("Type")])])},function(){var t=this,e=t.$createElement,r=t._self._c||e;return r("tr",[r("td",{attrs:{colspan:"3"}},[t._v("-- empty --")])])}];let G=class extends i["c"]{};G=Object(c["a"])([Object(i["a"])({computed:Object(l["b"])(["tracks"])})],G);var z=G,K=z,Q=(r("378e"),Object(k["a"])(K,J,W,!1,null,"9f1bda1e",null)),Y=Q.exports;let Z=class extends i["c"]{created(){document.title="Standing Echo"}};Z=Object(c["a"])([Object(i["a"])({components:{Player:H,Playlist:Y}})],Z);var tt=Z,et=tt,rt=(r("9993"),Object(k["a"])(et,o,a,!1,null,null,null)),nt=rt.exports,ot=r("0613"),at=r("9483");Object(at["a"])("/standing-echo/service-worker.js",{ready(){console.log("App is being served from cache by a service worker.\nFor more details, visit https://goo.gl/AFskqB")},registered(){console.log("Service worker has been registered.")},cached(){console.log("Content has been cached for offline use.")},updatefound(){console.log("New content is downloading.")},updated(){console.log("New content is available; please refresh.")},offline(){console.log("No internet connection found. App is running in offline mode.")},error(t){console.error("Error during service worker registration:",t)}}),new n["a"]({store:ot["a"],render:t=>t(nt)}).$mount("#app")},d178:function(t,e,r){},f702:function(t,e,r){}});
//# sourceMappingURL=app.43da56cf.js.map